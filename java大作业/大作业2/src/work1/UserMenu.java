/*
 * UserMenu.java
 *
 * Created on __DATE__, __TIME__
 */

package work1;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;

import javax.swing.JOptionPane;

import work.Song;

/**
 *
 * @author  __USER__
 */
public class UserMenu extends javax.swing.JFrame {
	Song song1 = new Song();

	/** Creates new form UserMenu */
	public UserMenu() {
		this.setLocationRelativeTo(null);
		initComponents();
	}

	/** This method is called from within the constructor to
	 * initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
	//GEN-BEGIN:initComponents
	// <editor-fold defaultstate="collapsed" desc="Generated Code">
	private void initComponents() {

		jLabel1 = new javax.swing.JLabel();
		jButton1 = new javax.swing.JButton();
		jButton2 = new javax.swing.JButton();
		jButton3 = new javax.swing.JButton();
		jButton4 = new javax.swing.JButton();

		setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

		jLabel1.setFont(new java.awt.Font("黑体", 0, 24));
		jLabel1.setText("\u7528\u6237\u70b9\u6b4c\u7cfb\u7edf");

		jButton1.setText("\u67e5\u627e\u6b4c\u66f2");
		jButton1.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton1ActionPerformed(evt);
			}
		});

		jButton2.setText("\u67e5\u770b\u6b4c\u66f2");
		jButton2.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton2ActionPerformed(evt);
			}
		});

		jButton3.setText("\u67e5\u770b\u8282\u76ee");
		jButton3.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton3ActionPerformed(evt);
			}
		});

		jButton4.setText("\u4e0a\u4f20\u6b4c\u66f2");
		jButton4.addActionListener(new java.awt.event.ActionListener() {
			public void actionPerformed(java.awt.event.ActionEvent evt) {
				jButton4ActionPerformed(evt);
			}
		});

		javax.swing.GroupLayout layout = new javax.swing.GroupLayout(
				getContentPane());
		getContentPane().setLayout(layout);
		layout
				.setHorizontalGroup(layout
						.createParallelGroup(
								javax.swing.GroupLayout.Alignment.LEADING)
						.addGroup(
								layout
										.createSequentialGroup()
										.addGroup(
												layout
														.createParallelGroup(
																javax.swing.GroupLayout.Alignment.LEADING)
														.addGroup(
																layout
																		.createSequentialGroup()
																		.addGap(
																				127,
																				127,
																				127)
																		.addComponent(
																				jLabel1))
														.addGroup(
																layout
																		.createSequentialGroup()
																		.addGap(
																				147,
																				147,
																				147)
																		.addGroup(
																				layout
																						.createParallelGroup(
																								javax.swing.GroupLayout.Alignment.LEADING)
																						.addComponent(
																								jButton2)
																						.addComponent(
																								jButton1)
																						.addComponent(
																								jButton4)
																						.addComponent(
																								jButton3))))
										.addContainerGap(145, Short.MAX_VALUE)));
		layout.setVerticalGroup(layout.createParallelGroup(
				javax.swing.GroupLayout.Alignment.LEADING).addGroup(
				layout.createSequentialGroup().addGap(38, 38, 38).addComponent(
						jLabel1).addPreferredGap(
						javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
						.addComponent(jButton2).addGap(12, 12, 12)
						.addComponent(jButton1).addGap(18, 18, 18)
						.addComponent(jButton3,
								javax.swing.GroupLayout.PREFERRED_SIZE, 29,
								javax.swing.GroupLayout.PREFERRED_SIZE).addGap(
								18, 18, 18).addComponent(jButton4)
						.addContainerGap(53, Short.MAX_VALUE)));

		pack();
	}// </editor-fold>
	//GEN-END:initComponents

	private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {
		// TODO add your handling code here:
		String songname = JOptionPane.showInputDialog("请输入歌曲名字:");
		String Singer = JOptionPane.showInputDialog("请输入歌手:");
        String name=JOptionPane.showInputDialog("请输入上传人:");
        JOptionPane.showMessageDialog(null, "要求已经发给管理员，请等待管理员审批");
        FileWriter fw;
		FileWriter fs;
		FileWriter ft;
		 try {
			fw = new FileWriter("file3.txt");
			fs = new FileWriter("file4.txt");
			ft = new FileWriter("file5.txt");
			BufferedWriter bw = new BufferedWriter(fw);
            BufferedWriter bs = new BufferedWriter(fs);
            BufferedWriter bt = new BufferedWriter(ft);
            bt.write(name);
            bt.newLine();
            bt.flush();//清除缓存
            bt.close();//关闭
            // 创建缓冲输入流，从file1.txt读取数据 
        bw.write(songname);
        bw.newLine();
        bw.flush();//清除缓存
        bw.close();//关闭
        // 创建缓冲输入流，从file1.txt读取数据
        bs.write(Singer);
        bs.newLine();
        bs.flush();//清除缓存
        bs.close();//关闭
        // 创建缓冲输入流，从file1.txt读取数据
        
       

	}catch (IOException e) {
		JOptionPane.showMessageDialog(this, e.getMessage());
       
    }
	}

	private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {
		// TODO add your handling code here:
		new CheckProgram().setVisible(true);
	}

	private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {
		// TODO add your handling code here:
		String name = JOptionPane.showInputDialog("请输入歌曲名字:");
		String Singer = JOptionPane.showInputDialog("请输入歌手:");

		try {
			Boolean a = song1.Song(name, Singer);
			new Comments(name).setVisible(true);
		} catch (Exception e) {
			// TODO Auto-generated catch block
			JOptionPane.showMessageDialog(this, e.getMessage());
		}
	}

	private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {
		// TODO add your handling code here:
		new CheckSong().setVisible(true);
	}

	/**
	 * @param args the command line arguments
	 */
	public static void main(String args[]) {
		java.awt.EventQueue.invokeLater(new Runnable() {
			public void run() {
				new UserMenu().setVisible(true);
			}
		});
	}

	//GEN-BEGIN:variables
	// Variables declaration - do not modify
	private javax.swing.JButton jButton1;
	private javax.swing.JButton jButton2;
	private javax.swing.JButton jButton3;
	private javax.swing.JButton jButton4;
	private javax.swing.JLabel jLabel1;
	// End of variables declaration//GEN-END:variables

}